<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./SignUpDemo.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet" />
    <title>Sign up</title>
</head>

<body>
    <div class="wapper">
        <div class="wapper-heading">
            <h1>Sign Up</h1>
        </div>
        <form id="form">
            <div class="input__field">
                <input id="username" name="userName" type="text" placeholder="User Name" required />
            </div>

            <div class="input__field">
                <input id="email" name="email" type="email" placeholder="Email" />
            </div>
            <div class="input__field">
                <input id="password" name="password" type="password" placeholder="Password" required minlength="6"
                maxlength="10" />
            </div>
            <div class="input__field">
                <input id="confirmPassword" type="password" name="confirmPassword" placeholder="Confirm Password" required minlength="6"
                maxlength="10"/>
            </div>
            <div class="input__field">
                <input id="name" name="name" type="text" placeholder="Full name" required />
            </div>
            <div class="input__field">
                <input id="address" name="address" type="text" placeholder="Address" required/>
            </div>
            <div class="input__field">
                <input id="phoneNumber" name="phoneNumber" type="text" placeholder="Phone number" required minlength="7"
                maxlength="11" pattern="[0-9]{7,11}"/>
            </div>
            <a href="/Demo/LoginDemo.html" class="login-link">Login</a>
            <button id="btnSignup" class="btn">Sign Up</button>
        </form>
    </div>
    <!-- <script src="./main.js"></script> -->
    <script>
        function check() {
            const form = document.getElementById('form');
            form.addEventListener('submit', function (e) {
                // Prevent default behavior:
                e.preventDefault();
                // Create new FormData object:
                const formData = new FormData(form);
                // Convert formData object to URL-encoded string:
                const payload = new URLSearchParams(formData);
                // Post the payload using Fetch:
                fetch('http://localhost:8080/store/save', {
                    method: 'POST',
                    body: payload,
                }).then(res => res.json()).then(data =>{
                    if(`${data.status}`=='OK'){
                        alert("OK!!!");
                    }else{
                        alert('False!!!');
                    }
                })

            })
            
        }
        check();
    </script>
</body>

</html>
