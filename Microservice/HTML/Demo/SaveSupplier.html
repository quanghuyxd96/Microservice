<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
        crossorigin="anonymous"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

    <title>Add Item</title>
</head>

<body>
    <div class="wapper">
        <div class="wapper-heading">
            <h1>Save Supplier</h1>
        </div>
        <form id="form">
            <div class="input__field">
                <input id="name" name="name" type="text" placeholder="Name" />
            </div>
            <div class="input__field">
                <input id="address" name="address" type="text" placeholder="Address" required />
            </div>
            <div class="input__field">
                <input id="phoneNumber" type="text" name="phoneNumber" placeholder="Phone Number" required />
            </div>
            <a href="/Demo/Admin.html" class="login-link">Back to Admin Home</a>
            <button id="btnSignup" class="btn" onclick="saveSupplier()">OK</button>
        </form>
    </div>
    <script>

        function saveSupplier() {
            let name = document.getElementById('name').value;
            let address = document.getElementById('address').value;
            let phoneNumber = document.getElementById('phoneNumber').value;
            let supplier = {    
                name: name,
                address: address,
                phoneNumber: phoneNumber,
            }
            console.log(supplier);
            $.ajax({
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*'
                },
                type: 'POST',
                url: 'http://localhost:8080/manager/manage-supplier/save',
                data: JSON.stringify(supplier),
                success: function (success) {
                    alert(success);
                },
                error: function (error) {
                    alert(error);
                }

            })

        }

        // console.log(store);
        // function check() {

        //     const form = document.getElementById('form');
        //     form.addEventListener('submit', function (e) {

        //         // Prevent default behavior:
        //         e.preventDefault();
        //         // Create new FormData object:
        //         const formData = new FormData(form);
        //         // Convert formData object to URL-encoded string:
        //         const payload = new URLSearchParams(formData);
        //         // Post the payload using Fetch:
        //         fetch('http://localhost:8080/store/save', {
        //             type: 'post',
        //             dataType: "json",
        //             contentType: "application/json; charset=utf-8",
        //             data: JSON.stringify(payload)
        //             method: 'POST',
        //             body: payload,
        //         }).then(res => JSON.stringify(res)).then(data => {
        //             if (`${data.status}` == 'OK') {
        //                 alert("OK!!!");
        //             } else {
        //                 alert('False!!!');
        //             }
        //         })

        //     })

        // }


    </script>
</body>

</html>